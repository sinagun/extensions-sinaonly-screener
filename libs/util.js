(function(){function a(a){return Array.prototype.slice.call(a,0)}function b(a){return document.getElementById(a)}var c=window.Util=window.Util||{};c.b64=function(a){var b=!1;try{a=btoa(a),b=!0}catch(a){}if(b)for(;"="===a.charAt(a.length-1);)a=a.substring(0,a.length-1);return encodeURIComponent(a)},c.asFilename=function(a){var b=a.split("?")[0].split("#")[0];return b?(b=b.replace(/^https?:\/\/(www\.)?/,"").replace(/^([^\/]+)\.com/,"$1").replace(/[^A-z0-9]+/g,"-").replace(/-+/g,"-").replace(/^[_\-]+/,"").replace(/[_\-]+$/,""),b="-"+b):b="","screencapture"+b+"-"+Date.now()+".png"},c.asArray=a,c.getQueryString=function(){var a={};return window.location.search.substring(1).split("&").forEach(function(b){var c=b.split("=").map(decodeURIComponent);a[c.shift()]=c.join("=")}),a},c.parseQueryString=function(a){for(var b,c=[],d=0,e=a.length;d<e;d++)b=a[d],c.push(encodeURIComponent(b.key)+(b.val?"="+encodeURIComponent(b.val):""));return c.join("&")},c.getVersion=function(){var a=chrome.runtime.getManifest();return a.version||"0.0.0"},c.$=b,b.show=function(a){b(a).style.display="block"},b.hide=function(a){b(a).style.display="none"},b.findClass=function(b,c){return a((c||document).getElementsByClassName(b))},b.on=function(a,b,c){return a.addEventListener(b,c,!1),a},b.hasClass=function(a,b){return a.classList.contains(b)},b.addClass=function(a,b){return a.classList.add(b)},b.removeClass=function(a,b){return a.classList.remove(b)},b.offsets=function(a){for(var b=0,c=0,d=a;d;)b+=d.offsetLeft,c+=d.offsetTop,d=d.offsetParent;return{left:b,top:c}}})();